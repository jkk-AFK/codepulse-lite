# CodePulse 新功能使用指南

## 🚀 快速开始

访问应用：http://localhost:5173

---

## 📖 功能详解

### 1. 历史记录管理

**位置**：主页左侧面板

**使用方法**：
1. 分析任意仓库后，自动记录到历史
2. 点击历史记录快速重新分析
3. 点击 ⭐ 图标标记为收藏
4. 点击"清除"按钮删除所有历史

**技巧**：
- 历史记录最多保存 50 条
- 收藏的仓库会用黄色星标显示
- 显示相对时间（如"3小时前"）

---

### 2. 主题切换

**位置**：页面右上角（太阳/月亮图标）

**使用方法**：
1. 点击图标切换主题
2. 系统自动保存偏好
3. 下次访问自动应用

**主题说明**：
- 🌙 **深色主题**（默认）：适合夜间使用
- ☀️ **浅色主题**：适合白天使用

---

### 3. API 限流监控

**位置**：页面右上角面板

**信息显示**：
- 剩余请求数 / 总限额
- 可视化进度条
- 重置时间倒计时

**状态说明**：
- 🔵 **正常**：剩余 > 20%，青色显示
- 🔴 **警告**：剩余 < 20%，红色显示

**提示**：
- 未配置 Token：每小时 60 次
- 配置 Token：每小时 5000 次
- 点击"刷新"手动更新状态

**配置 Token**：
```bash
# 1. 复制 .env.example 为 .env
cp .env.example .env

# 2. 在 GitHub 生成 Personal Access Token
# 访问：https://github.com/settings/tokens

# 3. 将 Token 填入 .env
VITE_GITHUB_TOKEN=ghp_your_token_here

# 4. 重启开发服务器
npm run dev
```

---

### 4. 导出报告

**位置**：分析结果页面顶部

**使用方法**：
1. 完成仓库分析后
2. 点击"导出报告"按钮
3. 自动下载 JSON 文件

**文件格式**：
```
{owner}-{repo}-analysis-{timestamp}.json
```

**包含内容**：
- 仓库基本信息
- 健康度评分（6个维度）
- 统计数据（Issues、PR、提交等）
- 最近 10 次提交
- 前 10 名贡献者
- 分析和导出时间戳

**用途**：
- 离线查看报告
- 数据备份和存档
- 二次分析和处理
- 与团队分享

---

### 5. 仓库比较

**位置**：主页右侧面板

**使用方法**：
1. 分析多个仓库（至少2个）
2. 在比较面板选择要对比的仓库
3. 查看对比图表和数据表格
4. 点击仓库名前的 ❌ 移除

**对比维度**：
- 📊 **总分**：综合健康度
- 💎 **代码质量**：代码规范
- 📚 **文档**：文档完整性
- 🔥 **活跃度**：提交频率
- 👥 **社区**：参与度
- 🔧 **维护**：维护质量

**限制**：
- 最多同时比较 5 个仓库
- 需要先分析才能比较

**技巧**：
- 用于技术选型决策
- 快速发现项目优劣
- 横向对比同类项目

---

### 6. 收藏功能

**位置**：历史记录面板

**使用方法**：
1. 在历史记录中找到目标仓库
2. 点击左侧 ⭐ 星标图标
3. 再次点击取消收藏

**视觉效果**：
- 未收藏：灰色空心星
- 已收藏：黄色实心星

**用途**：
- 标记重要项目
- 快速定位常用仓库
- 组织个人收藏夹

---

## 🎯 使用场景

### 场景 1：技术选型
```
1. 分析候选框架 A、B、C
2. 使用"仓库比较"功能横向对比
3. 查看健康度评分和活跃度
4. 导出报告供团队讨论
5. 收藏最终选择的框架
```

### 场景 2：项目监控
```
1. 分析自己的开源项目
2. 导出报告作为基准
3. 定期重新分析
4. 对比历史数据查看进展
5. 收藏重点关注的项目
```

### 场景 3：学习资源筛选
```
1. 搜索相关主题的热门仓库
2. 批量分析多个项目
3. 根据文档和活跃度筛选
4. 收藏高质量学习资源
5. 导出报告整理知识库
```

---

## ⚡ 快捷操作

### 键盘快捷键（计划中）
- `Ctrl + K`：聚焦搜索框
- `Ctrl + H`：显示/隐藏历史
- `Ctrl + T`：切换主题
- `Ctrl + E`：导出当前报告

### 鼠标操作
- 单击历史记录：重新分析
- 双击星标：快速收藏/取消
- 滚轮：浏览历史和比较列表

---

## 💡 最佳实践

### 1. 高效使用历史记录
- ✅ 分析前先查看历史，避免重复
- ✅ 收藏常用仓库，快速访问
- ✅ 定期清理无用历史（保持性能）

### 2. 合理管理 API 限额
- ✅ 配置 Personal Access Token
- ✅ 监控限流状态，合理安排
- ✅ 利用缓存机制（30分钟有效）

### 3. 充分利用导出功能
- ✅ 重要分析及时导出备份
- ✅ 批量导出用于数据分析
- ✅ 分享给团队成员

### 4. 智能使用比较功能
- ✅ 同类型项目放在一起比较
- ✅ 关注差异化维度
- ✅ 结合导出数据深度分析

---

## 🐛 常见问题

### Q1: 历史记录不见了？
**A**: 历史记录存储在浏览器本地，清理缓存会导致丢失。建议重要项目使用收藏功能或导出报告。

### Q2: API 限流提示怎么办？
**A**: 
1. 等待重置（1小时）
2. 配置 GitHub Token（推荐）
3. 使用缓存功能（30分钟内免费）

### Q3: 导出的 JSON 怎么查看？
**A**: 
- 使用任意文本编辑器
- 在线 JSON 查看器
- 导入数据分析工具（如 Excel、Python）

### Q4: 为什么无法比较某个仓库？
**A**: 只有在历史记录中的仓库才能比较。请先分析该仓库。

### Q5: 主题切换后样式异常？
**A**: 刷新页面即可恢复。这是临时的渲染问题。

### Q6: 收藏的仓库可以导出吗？
**A**: 当前版本收藏列表仅保存在本地。计划未来版本支持导出。

---

## 📞 获取帮助

### 文档资源
- [README.md](../../README.md) - 项目介绍
- [DEPLOYMENT.md](../../DEPLOYMENT.md) - 部署指南
- [CONTRIBUTING.md](../../CONTRIBUTING.md) - 贡献指南

### 报告问题
在 GitHub Issues 中提交：
- 详细描述问题
- 附上截图（如有）
- 说明操作步骤

### 功能建议
欢迎在 Issues 中提出新功能建议！

---

**提示**：本指南基于 v2.0 版本编写，随版本更新可能有变化。
